(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a(34)},,,,,,,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(5),c=a.n(r),l=(a(14),a(2)),i=a(1),s=function(e,t){var a=o.a.useState(!1),n=Object(i.a)(a,2),r=n[0],c=n[1],l=o.a.useState(!0),s=Object(i.a)(l,2),u=s[0],m=s[1],d=o.a.useState(t),f=Object(i.a)(d,2),E=f[0],g=f[1],v=o.a.useState(!0),h=Object(i.a)(v,2),p=h[0],b=h[1];o.a.useEffect(function(){setTimeout(function(){try{var a,n=localStorage.getItem(e);n?a=JSON.parse(n):(localStorage.setItem(e,JSON.stringify(t)),a=t),g(a)}catch(r){c(r)}finally{m(!1),b(!0)}},1e3)},[p]);return{item:E,saveItem:function(t){try{localStorage.setItem(e,JSON.stringify(t)),g(t)}catch(r){c(r)}},loading:u,error:r,sincronizeItem:function(){g([]),m(!0),b(!1)},sincronizedItem:p}},u=function(){var e=s("todoList",[]),t=e.item,a=e.saveItem,n=e.loading,r=e.error,c=e.sincronizeItem,u=e.sincronizedItem,m=o.a.useState(""),d=Object(i.a)(m,2),f=d[0],E=d[1],g=o.a.useState(!1),v=Object(i.a)(g,2),h=v[0],p=v[1],b=t.filter(function(e){return!!e.completed}).length,T=t.length,N=[];N=!f.length>=1?t:t.filter(function(e){var t=e.text.toLowerCase(),a=f.toLowerCase();return t.includes(a)});return{loading:n,error:r,totalTodos:T,completedTodos:b,searchValue:f,setSearchValue:E,searchedTodos:N,completeTodo:function(e){if(u){var n=t.findIndex(function(t){return t.text===e}),o=Object(l.a)(t);o[n].completed=!o[n].completed,a(o)}},deleteTodo:function(e){if(u){var n=t.findIndex(function(t){return t.text===e}),o=Object(l.a)(t);o.splice(n,1),a(o)}},toggleModal:h,setToggleModal:p,addToDo:function(e){if(u){var n=Object(l.a)(t);n.push({text:e,completed:!1}),a(n)}},sincronizeTodos:c}};var m=function(e){var t=e.children,a=e.loading;return o.a.createElement("header",null,o.a.Children.toArray(t).map(function(e){return o.a.cloneElement(e,{loading:a})}))},d=(a(16),function(e){var t=e.totalTodos,a=e.completedTodos,n=e.loading;return o.a.createElement("h2",{className:"titulo ".concat(!!n&&"counter-loading")},"Has complentado ",a," de ",t," To Do's")});a(18);var f=function(e){var t=e.searchValue,a=e.setSearchValue,n=e.loading;return o.a.createElement("input",{className:"inputsearch",value:t,onChange:function(e){a(e.target.value)},placeholder:"Serach here...",disabled:n})};a(20);var E=function(e){var t=e.error,a=e.loading,n=e.searchedTodos,r=e.onError,c=e.onLoading,l=e.onEmpty,i=e.onEmptySearchResults,s=e.render,u=e.totalTodos,m=e.searchText,d=e.children||s;return o.a.createElement("section",null,t&&r(),a&&c(),!a&&!u&&l(),!!u&&!n.length&&i(m),o.a.createElement("ul",{className:"lista"},n.map(d)))};a(22);var g=function(e){var t=e.completed,a=e.text,n=e.onComplete,r=e.onDelete;return o.a.createElement("li",{className:"item"},o.a.createElement("span",{className:"icon icon-check ".concat(t?"icon-check-active":"icon-check-false"),onClick:n},o.a.createElement("i",{className:"las la-check"})),o.a.createElement("p",{className:"item-p ".concat(t&&"item-p-complete")},a),o.a.createElement("span",{className:"delete",onClick:r},o.a.createElement("i",{className:"las la-trash"})))},v=(a(24),function(e){var t=e.addToDo,a=e.setToggleModal,n=o.a.useState(""),r=Object(i.a)(n,2),c=r[0],l=r[1];return o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c.trim()&&(t(c),a(!1))}},o.a.createElement("label",null,"Escribe tu nuevo TODO"),o.a.createElement("textarea",{value:c,onChange:function(e){l(e.target.value)},placeholder:"Escribe un nuevo To Do..."}),o.a.createElement("div",{className:"button-container"},o.a.createElement("button",{type:"button",className:"todoform-button todoform-button-cancel",onClick:function(){a(!1)}},"Cancelar"),o.a.createElement("button",{type:"submit",className:"todoform-button todoform-button-add"},"A\xf1adir")))});a(26);var h=function(e){var t=e.setToggleModal;return o.a.createElement("div",{className:"box-boton"},o.a.createElement("button",{className:"boton",onClick:function(){t(function(e){return!e})}},o.a.createElement("i",{className:"las la-plus"})))},p=(a(28),function(){return o.a.createElement("div",{className:"load-container"},o.a.createElement("div",{className:"load-background"},o.a.createElement("div",{className:"bar"}),o.a.createElement("div",{className:"mask thick"}),o.a.createElement("div",{className:"bar"}),o.a.createElement("div",{className:"mask thick"}),o.a.createElement("div",{className:"bar"}),o.a.createElement("div",{className:"mask thick"}),o.a.createElement("div",{className:"bar"})))}),b=function(){return o.a.createElement("div",{className:"sindata-container"},o.a.createElement("p",null,"\xa1Crea tu primer TODO!"))},T=function(){return o.a.createElement("div",{className:"sindata-container"},o.a.createElement("p",null,"Desesp\xe9rate, hubo un error..."))},N=a(3),S=a.n(N),k=(a(30),function(e){var t=e.children;return S.a.createPortal(o.a.createElement("div",{className:"modal-container"},o.a.createElement("div",{className:"modal-body"},t)),document.getElementById("modal"))});a(32);var y=function(e){var t=function(e){var t=e.sincronize,a=o.a.useState(!1),n=Object(i.a)(a,2),r=n[0],c=n[1];return window.addEventListener("storage",function(e){"todoList"===e.key&&(console.log("Hubo cambios en Todos list"),c(!0))}),{show:r,toggleShow:function(){t(),c(!1)}}}({sincronize:e.sincronize}),a=t.show,n=t.toggleShow;return a?o.a.createElement("div",{className:"change-conainer"},o.a.createElement("div",{className:"change-box"},o.a.createElement("p",null,"Parece ser que hay cambios provenientes de otra ventana, debes sincronizar tu informaci\xf3n"),o.a.createElement("button",{onClick:n},"Actualizar informaci\xf3n"))):null};var x=function(){var e=u(),t=e.totalTodos,a=e.completedTodos,n=e.searchValue,r=e.setSearchValue,c=e.error,l=e.loading,i=e.searchedTodos,s=e.completeTodo,N=e.deleteTodo,S=e.toggleModal,x=e.addToDo,O=e.setToggleModal,w=e.sincronizeTodos;return o.a.createElement(o.a.Fragment,null,o.a.createElement(m,{loading:l},o.a.createElement(d,{totalTodos:t,completedTodos:a}),o.a.createElement(f,{searchValue:n,setSearchValue:r})),o.a.createElement(E,{error:c,loading:l,searchedTodos:i,totalTodos:t,searchText:n,onError:function(){return o.a.createElement(T,null)},onLoading:function(){return o.a.createElement(p,null)},onEmpty:function(){return o.a.createElement(b,null)},onEmptySearchResults:function(e){return o.a.createElement("p",null,"No hay resultados para ",e)},render:function(e){return o.a.createElement(g,{key:e.text,text:e.text,completed:e.completed,onComplete:function(){return s(e.text)},onDelete:function(){return N(e.text)}})}}),S&&o.a.createElement(k,null,o.a.createElement(v,{addToDo:x,setToggleModal:O})),o.a.createElement(h,{setToggleModal:O}),o.a.createElement(y,{sincronize:w}))};c.a.createRoot(document.getElementById("root")).render(o.a.createElement(x,null))}],[[6,2,1]]]);
//# sourceMappingURL=main.e8aeb960.chunk.js.map